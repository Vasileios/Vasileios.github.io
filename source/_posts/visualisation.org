 #+TITLE: Visualisation
 #+Author: Vasilis Agiomyrgianakis
 #+Options: num:nil, toc:nil H:2, html-postamble:nil
 #+DATE: <2017-06-21 Wed 06:52>
 #+LAYOUT: post
 #+CATEGORIES: visualisation, python, yt, data
 #+TAGS: visualisation, python, yt, data

* Visualisation of scientific data

** Magnetic Storm

 A magnetic storm can be captured from devises called magnetometers. These magnetometers measure earth's magnetic field reaction when a cosmic or a solar wind hit the earth.


** Magnetic fields

Magnetic fields  are *vector* quantities characterized by both *strength* and *direction*.

"A *vector* is a mathematical entity with both magnitude and direction. The Earth's magnetic field at a given point is a vector. A magnetic compass is designed to give a horizontal bearing direction, whereas a vector magnetometer measures both the magnitude and direction of the total magnetic field. Three orthogonal sensors are required to measure the components of the magnetic field in all three dimensions".

"Measurements of the Earth's magnetic field are often quoted in units of nanotesla (nT), also called a gamma"[fn:: https://en.wikipedia.org/wiki/Magnetometer].

"How is the geomagnetic field described"?

"Intensity and orientation are necessary to fully describe the geomagnetic field (see figure). Two angles, declination (D) and inclination (I) are commonly used to give the orientation together with the total intensity of the field. Another widely used representation consists of three orthogonal components in the directions of geographic north (X), geographic east (Y) and down into the Earth (Z)"[fn::http://www.gfz-potsdam.de/en/section/earths-magnetic-field/data-products-services/faqs/].


    #+Caption: Magnetic field shape XYZ(nT)
    #+NAME: Fig:3
    #+ATTR_HTML:  :alt caption
    [[file:magn/XnTYnTZnT.jpg]]

[fn::Picture taken from:http://www.gfz-potsdam.de/en/section/earths-magnetic-field/data-products-services/faqs/].

"The X and Y components are parallel to the Earth's surface and point towards the geographic north pole and geographic east, respectively. The vector F includes intensity and directions. H is its horizontal component parallel to the Earth's surface and pointing towards magnetic north. The vertical component (Z) points into the Earth perpendicular to H. The inclination (I) is the angle between H and F, i.e. the angle at which the magnetic field lines meet the Earth's surface. Declination (D) is the angle between magnetic (H) and geographic (X) north"[fn::http://www.gfz-potsdam.de/en/section/earths-magnetic-field/data-products-services/faqs/].



- geographic north (X)
- geographic east (Y)
- and down into the Earth (Z).

** Data-analysis

In this section we will see data of magnetic storm and analyse them. The table below shows a sample from the data from the VLI station magentometer in Velies Greece.

    #+Caption: Snapshot of data from station VLI magnetometer.
    #+NAME: Fig:2
    #+ATTR_HTML:  :alt caption
    [[file:magn/MagneticFieldTableData.jpg]]

  The data in the table are: the approximate geocentric coordinates of the place of the station, the date and the time with 1.0 sec sampling rate, the xyz coordinates and the Ts and Te [C] values. The  X, Y, Z, data symbols are the geographic north (X), geographic east (Y) and *Down* (Z) components of Magentic Field in nT as well as is *Declunation* (D) in degrees.

Magnetometers write the data in a form of a list. From the list we collect only the X, Y, and Z columns with which we control the graphics as well as the sound. For this visualisatiion we used *openFrameworks* and the *MSAFluids* library by Memo Akten. We found that fluids are the most suitable represantation of a magnetic storm. "More explanation about magnetic storm visualisation and examples from others"...For intanse,  we use these values to manipulate the *direction* and strength of the fluid system. In this case, we made use of the *eventPosition* and the *mouseNormal* which are arguments which control the position of fluids onto screen.
To visualise the *strength* of the magnetic storm, we made use of other parameters of the fluid system which we analyse later in this paper.

* other visualisation examples

** Data Visualisation with Python

    #+Caption: Clouds
    #+NAME: Fig:1
    #+ATTR_HTML:  :alt caption
    [[file:foobar/rendering3.jpg]]


    #+HTML: <!-- more -->


  #+BEGIN_SRC python

import numpy as np
import yt
ds = yt.load("/Users/IsolatedGalaxy/galaxy0030/galaxy0030")
filename = './my_galaxy'
sp = ds.sphere("max", (10, "kpc"))
rhos = [1e-24, 1e-25]
trans = [0.5, 1.0]
distf = 3.1e18*1e3 # distances into kpc
def _Emissivity(field, data):
   ## data._debug()
    return (data['density']*data['density'] *
            np.sqrt(data['temperature']))
ds.add_field("emissivity", function=_Emissivity, units=r"sqrt(K)*g**2/cm**6")

for i, r in enumerate(rhos):
    surf = ds.surface(sp,'density',r)

    #+END_SRC
